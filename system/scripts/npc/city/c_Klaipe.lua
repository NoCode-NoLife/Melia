addnpc(20115, "ETC_20150717_013603", "c_Klaipe", 510.7029, -1.292879, -349.3194, 45, "npc_itemmerchantmirina")
addnpc(20111, "ETC_20150317_009196", "c_Klaipe", 394, -1, -475, 45, "npc_equipmentmerchantdunkel")
addnpc(20104, "ETC_20150317_009197", "c_Klaipe", 268.7077, -1.343773, -610.9401, 45, "npc_accessorymerchantronesa")
addnpc(20113, "ETC_20151224_019888", "c_Klaipe", -467.28, 148.67, 114.01, 45, "npc_dummy")
addnpc(20112, "ETC_20150317_009207", "c_Klaipe", -400.58, 148.78, 207.72, -43.99, "npc_dummy")
addnpc(20158, "QUEST_LV_0100_20150317_000413", "c_Klaipe", -9, 156, 131, -23.96, "npc_dummy")
addnpc(20114, "QUEST_LV_0100_20150317_000423", "c_Klaipe", -60, 148, 42, 36.57, "npc_dummy")
addnpc(57229, "ETC_20150317_009208", "c_Klaipe", -196.47, 148.83, 350.73, -45, "npc_dummy")
addnpc(40090, "QUEST_20150317_000081", "c_Klaipe", -80, 148, 387, -15, "npc_dummy")
addnpc(20105, "ETC_20150317_009199", "c_Klaipe", 600, -1, -83, 45, "npc_dummy")
addnpc(57228, "ETC_20150317_009209", "c_Klaipe", -775.11, 240.39, 525.74, -45, "npc_dummy")
addnpc(20114, "QUEST_20150317_000083", "c_Klaipe", -409, -1, -647, -47.29, "npc_indifferentwidow")
addnpc(20139, "QUEST_LV_0100_20150317_001418", "c_Klaipe", -60, 79, -446, -33.69, "npc_dummy")
addnpc(20169, "ETC_20150317_009211", "c_Klaipe", 278, 79, 137, 45, "npc_dummy")
addnpc(20041, "ETC_20150317_009059", "c_Klaipe", -325, 148, 17, 216, "npc_dummy")
addnpc(20028, "ETC_20150317_009200", "c_Klaipe", -225, 97, -385, -55, "npc_dummy")
addnpc(20137, "ETC_20151224_019889", "c_Klaipe", -205, 79, -515, 51.17, "npc_dummy")
addnpc(20041, "ETC_20150317_009062", "c_Klaipe", -336, 79, -548, 51.17, "npc_dummy")
addnpc(147445, "ETC_20150317_009202", "c_Klaipe", -461, 240, 743, -48.73, "npc_dummy")
addnpc(147343, "ETC_20150317_009203", "c_Klaipe", -488.78, 148.61, 27, 51.17, "npc_dummy")
addnpc(20023, "ETC_20150317_009204", "c_Klaipe", -295, 240, 790, 45, "npc_dummy")
addnpc(20021, "ETC_20150317_009205", "c_Klaipe", -100, 96, -275, -45, "npc_dummy")
addnpc(147447, "ETC_20150317_009206", "c_Klaipe", -887, 240, 120, 45, "npc_dummy")
addnpc(40070, "QUEST_20150317_000081", "c_Klaipe", -66, -1, -752, -47.99, "npc_dummy")
addnpc(40070, "QUEST_20150317_000081", "c_Klaipe", 195, -1, -641, -33.69, "npc_dummy")
addnpc(40070, "QUEST_20150317_000081", "c_Klaipe", 58, 79, -359, -11.66, "npc_dummy")
addnpc(40070, "QUEST_20150317_000081", "c_Klaipe", -63, 148, -108, 37.87, "npc_dummy")
addnpc(40070, "QUEST_20150317_000081", "c_Klaipe", -165, -1, -958, 18.43, "npc_dummy")
addnpc(40070, "QUEST_20150317_000821", "c_Klaipe", 744, -1, 192, -81.23, "npc_dummy")
addnpc(40070, "QUEST_20150729_002302", "c_Klaipe", -125, 148, -11, -3.009998, "npc_dummy")
addnpc(40070, "QUEST_20150317_000830", "c_Klaipe", 617, -1, 61, 45, "npc_dummy")
addnpc(147473, "QUEST_LV_0100_20150317_002150", "c_Klaipe", 615.23, -1.35, 132.44, 45, "npc_dummy")
addnpc(153005, "ETC_20150317_009212", "c_Klaipe", 6, -1, -760, 315, "npc_dummy")
addnpc(47521, "ETC_20150317_007299", "c_Klaipe", -22, -1, -757, 315, "npc_dummy")
addnpc(152005, "ETC_20150317_009214", "c_Klaipe", 68.44363, 148.8388, 485.8954, -59, "npc_dummy")
addnpc(152004, "ETC_20150317_009215", "c_Klaipe", -345.0014, 148.8224, 283.8124, 0, "npc_dummy")
addnpc(154018, "ETC_20150414_011199", "c_Klaipe", 262.0322, 79.47649, 233.2017, 45, "npc_dummy")
addnpc(57224, "ETC_20150414_011198", "c_Klaipe", -893.4678, 240.3878, 74.93089, 45, "npc_dummy")
addnpc(154039, "ETC_20150317_007031", "c_Klaipe", -206.574, 148.8251, 98.63973, 0, "npc_dummy")
addnpc(20068, "ETC_20151224_019887", "c_Klaipe", 285, 79, 78, 45, "npc_dummy")
addnpc(20164, "QUEST_20150317_000127", "c_Klaipe", -225.8313, -1.3338, -848.0712, 45, "npc_klaipedagirl")
addnpc(20147, "QUEST_20150317_000382", "c_Klaipe", -107.036, -1.3438, -749.1073, 135, "npc_worriedwife")

--- Accessory Merchant Ronesa
function npc_accessorymerchantronesa()
	msg("Alfonso_Select_1")
	openshop("Klapeda_Accessory")
end

--- Item Merchant Mirina
function npc_itemmerchantmirina()
	msg("Emilia_Select_1")
	openshop("Klapeda_Misc")
end

--- Equipment Merchant Dunkel
function npc_equipmentmerchantdunkel()
	local selection,i = nselect("KLAPEDA_Akalabeth_basic28", "weapon:@dicID_^*$ETC_20150317_004443$*^", "armor:@dicID_^*$ETC_20150317_004444$*^", "!@#$Auto_JongLyo#@!")

	if selection == "weapon" then
		openshop("Klapeda_Weapon")
	elseif selection == "armor" then
		openshop("Klapeda_Armor")
	end
end

--- Indifferent Widow
function npc_indifferentwidow()
	if select("TUTO_GIRL_basic_02", "!@#$TUTO_GIRL_select01#@!", "!@#$Auto_JongLyo#@!") ~= 1 then
		return
	end
	if select("TUTO_GIRL_basic_03", "!@#$TUTO_GIRL_select02#@!", "!@#$Auto_JongLyo#@!") ~= 1 then
		return
	end
	if select("TUTO_GIRL_basic_04", "!@#$TUTO_GIRL_select03#@!", "!@#$Auto_JongLyo#@!") ~= 1 then
		return
	end

	msg("TUTO_GIRL_basic_05")
end

--- Klaipeda Girl
-- Uses one of two random dialogues.
function npc_klaipedagirl()
	if math.random(2) == 1 then
		msg("KLAFEDA_NPC_05_basic01")
	else
		msg("KLAFEDA_NPC_05_basic02")
	end
end

--- Worried Wife
-- Tells stories about the various goddesses.
function npc_worriedwife()
	if select("KLAPEDA_NPC_04_basic01", "!@#$Auto_KLAPEDA_NPC_04_S1#@!", "!@#$Auto_SinKyeongSseuJi_anNeunDa#@!") ~= 1 then
		return
	end

	local selection;
	while selection ~= "leave" do
		-- Select goddess
		selection = nselect("KLAPEDA_NPC_04_basic02",
			"ausrine:!@#$Auto_KLAPEDA_NPC_04_S2#@!",
			"laima:!@#$Auto_KLAPEDA_NPC_04_S3#@!",
			"gabija:!@#$Auto_KLAPEDA_NPC_04_S4#@!",
			"zemyna:!@#$Auto_KLAPEDA_NPC_04_S5#@!",
			"vakarine:!@#$Auto_KLAPEDA_NPC_04_S6#@!",
			"leave:!@#$Auto_TteoNanDa#@!"
		)

		-- Info about selected goddess
		if selection == "ausrine" then
			msg("KLAPEDA_NPC_04_basic03")
		elseif selection == "laima" then
			msg("KLAPEDA_NPC_04_basic04")
		elseif selection == "gabija" then
			msg("KLAPEDA_NPC_04_basic05")
		elseif selection == "zemyna" then
			msg("KLAPEDA_NPC_04_basic06")
		elseif selection == "vakarine" then
			msg("KLAPEDA_NPC_04_basic07")
		end
	end
end
